function g(s,t,e,a,n,l,c,m){var r=typeof s=="function"?s.options:s;t&&(r.render=t,r.staticRenderFns=e,r._compiled=!0),a&&(r.functional=!0),l&&(r._scopeId="data-v-"+l);var o;if(c?(o=function(i){i=i||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!i&&typeof __VUE_SSR_CONTEXT__<"u"&&(i=__VUE_SSR_CONTEXT__),n&&n.call(this,i),i&&i._registeredComponents&&i._registeredComponents.add(c)},r._ssrRegister=o):n&&(o=m?function(){n.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:n),o)if(r.functional){r._injectStyles=o;var p=r.render;r.render=function(_,d){return o.call(d),p(_,d)}}else{var u=r.beforeCreate;r.beforeCreate=u?[].concat(u,o):[o]}return{exports:s,options:r}}const f={props:{title:String,action:String,blueprint:Array,meta:Array,redirectTo:String,values:Array,data:Array,items:Array},computed:{lastPage(){return Math.ceil(this.totalItems/this.perPage)}},data(){return{itemsReady:[],itemsSliced:[],perPage:10,currentPage:1,totalItems:0}},mounted(){this.itemsReady=this.items,this.totalItems=this.items.length,this.sliceItems(),console.log(this.itemsSliced)},methods:{updateItems(s){this.itemsReady=s.data.data,this.totalItems=s.data.data.length,this.sliceItems(),this.$forceUpdate()},setPage(s){this.currentPage=s,this.sliceItems()},sliceItems(){const s=(this.currentPage-1)*this.perPage,t=s+this.perPage;console.log(this.currentPage),this.itemsSliced=this.itemsReady.slice(s,t)},update(s,t){console.log(s,t),confirm("Are you sure you want to report this as ham?")&&Statamic.$axios.post(cp_url("alt-design/alt-akismet/update"),{id:s,type:t}).then(e=>{window.location.reload(),this.updateItems(e),console.log("reloading")}).catch(e=>{console.log("Ooo"),console.log(e)})}}};var h=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"alt-akismet"}},[e("publish-form",{attrs:{title:t.title,action:t.action,meta:t.meta,values:t.values}}),e("p",{staticClass:"mb-6 -mt-2 text-sm"},[t._v(" We basically try and guess which fields are which, so that you don't have to manually config each field. Below are the contents of the fields that we guessed, and the ham or spam result - we'll add a way of customising them too soon! ")]),e("div",{staticClass:"card overflow-hidden p-0"},[e("table",{staticClass:"data-table",attrs:{"data-size":"sm",tabindex:"0"}},[t._m(0),e("tbody",t._l(t.itemsSliced,function(a){return e("tr",{key:a.id},[e("td",[t._v(" "+t._s(a.alt_akismet_name)+" ")]),e("td",[t._v(" "+t._s(a.alt_akismet_email)+" ")]),e("td",[t._v(" "+t._s(a.alt_akismet_content)+" ")]),e("td",[e("a",{staticClass:"text-blue-400 underline",attrs:{href:t.cp_url("forms/"+a.alt_form_slug)}},[t._v(t._s(a.alt_form_slug))])]),e("td",[a.alt_akismet=="ham"?e("a",{staticClass:"text-blue-400 underline",attrs:{href:t.cp_url("forms/"+a.alt_form_slug+"/submissions/"+a.alt_akismet_id)}},[t._v("View")]):e("a",{staticClass:"text-blue-400 underline",attrs:{href:t.cp_url("alt-design/alt-akismet/submissions/"+a.alt_akismet_id)}},[t._v("View")])]),e("td",[a.alt_akismet=="ham"?e("button",{staticClass:"btn",staticStyle:{color:"red"},on:{click:function(n){return t.update(a.alt_akismet_id,"spam")}}},[t._v("Report Spam ")]):e("button",{staticClass:"btn",staticStyle:{color:"green"},on:{click:function(n){return t.update(a.alt_akismet_id,"ham")}}},[t._v("Report Ham")])])])}),0)]),e("div",{staticClass:"pagination text-sm py-4 px-4 flex items-center justify-between"},[e("div",{staticClass:"w-1/3 flex items-center"},[t._v(" Page "),e("span",{staticClass:"font-semibold mx-1",domProps:{innerHTML:t._s(t.currentPage)}}),t._v(" of "),e("span",{staticClass:"mx-1",domProps:{innerHTML:t._s(t.lastPage)}})]),e("div",{staticClass:"w-1/3 flex items-center justify-center"},[e("span",{staticClass:"cursor-pointer",staticStyle:{height:"15px",margin:"0 15px",width:"12px"},on:{click:function(a){return t.setPage(t.currentPage-1>0?t.currentPage-1:1)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"205",height:"205",viewBox:"0 0 205 205"}},[e("defs",[e("clipPath",{attrs:{id:"clip-LEFT"}},[e("rect",{attrs:{width:"205",height:"205"}})])]),e("g",{attrs:{id:"LEFT","clip-path":"url(#clip-LEFT)"}},[e("rect",{attrs:{width:"205",height:"205",fill:"#fff"}}),e("path",{attrs:{stroke:"#2e9fff",fill:"#2e9fff",id:"Icon_awesome-arrow-left","data-name":"Icon awesome-arrow-left",d:"M114.961,184.524l-9.91,9.91a10.669,10.669,0,0,1-15.132,0L3.143,107.7a10.669,10.669,0,0,1,0-15.132L89.919,5.794a10.669,10.669,0,0,1,15.132,0l9.91,9.91a10.725,10.725,0,0,1-.179,15.311L60.994,82.259H189.283A10.687,10.687,0,0,1,200,92.972v14.284a10.687,10.687,0,0,1-10.713,10.713H60.994l53.789,51.244A10.648,10.648,0,0,1,114.961,184.524Z",transform:"translate(2.004 2.353)"}})])])]),t.currentPage>1?e("span",{staticClass:"cursor-pointer py-1 mx-1",on:{click:function(a){return t.setPage(1)}}},[t._v("1")]):t._e(),t.currentPage==1?e("span",{staticClass:"cursor-pointer py-1 mx-1 font-semibold",on:{click:function(a){return t.setPage(1)}}},[t._v("1")]):t._e(),t.currentPage>3?e("span",[t._v("...")]):t._e(),t.currentPage>2?e("span",{staticClass:"cursor-pointer py-1 mx-1",on:{click:function(a){return t.setPage(t.currentPage-1)}}},[t._v(t._s(t.currentPage-1))]):t._e(),t.currentPage!==1&&t.currentPage!==t.lastPage?e("span",{staticClass:"cursor-pointer py-1 mx-1 font-semibold"},[t._v(t._s(t.currentPage))]):t._e(),t.currentPage<t.lastPage-1?e("span",{staticClass:"cursor-pointer py-1 mx-1",on:{click:function(a){return t.setPage(t.currentPage+1)}}},[t._v(t._s(t.currentPage+1))]):t._e(),t.currentPage<t.lastPage-2?e("span",[t._v("...")]):t._e(),t.currentPage<t.lastPage?e("span",{staticClass:"cursor-pointer py-1 mx-1",on:{click:function(a){return t.setPage(t.lastPage)}}},[t._v(t._s(t.lastPage))]):t._e(),t.currentPage==t.lastPage&&t.lastPage!=1?e("span",{staticClass:"cursor-pointer py-1 mx-1 font-semibold",on:{click:function(a){return t.setPage(t.lastPage)}}},[t._v(t._s(t.lastPage))]):t._e(),e("span",{staticClass:"cursor-pointer",staticStyle:{height:"15px",margin:"0 15px",width:"12px"},on:{click:function(a){return t.setPage(t.currentPage+1<t.lastPage?t.currentPage+1:t.lastPage)}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"205",height:"205",viewBox:"0 0 205 205"}},[e("defs",[e("clipPath",{attrs:{id:"clip-RIGHT"}},[e("rect",{attrs:{width:"205",height:"205"}})])]),e("g",{attrs:{id:"RIGHT","clip-path":"url(#clip-RIGHT)"}},[e("rect",{attrs:{width:"205",height:"205",fill:"#fff"}}),e("path",{attrs:{stroke:"#2e9fff",fill:"#2e9fff",id:"Icon_awesome-arrow-left","data-name":"Icon awesome-arrow-left",d:"M85.032,184.524l9.91,9.91a10.669,10.669,0,0,0,15.132,0L196.85,107.7a10.669,10.669,0,0,0,0-15.132L110.073,5.794a10.669,10.669,0,0,0-15.132,0l-9.91,9.91a10.725,10.725,0,0,0,.179,15.311L139,82.259H10.71A10.687,10.687,0,0,0,0,92.972v14.284A10.687,10.687,0,0,0,10.71,117.969H139L85.21,169.214A10.648,10.648,0,0,0,85.032,184.524Z",transform:"translate(2.004 2.353)"}})])])])]),e("div",{staticClass:"w-1/3 flex justify-end"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedPage,expression:"selectedPage"}],staticClass:"w-1/2 text-sm",on:{change:[function(a){var n=Array.prototype.filter.call(a.target.options,function(l){return l.selected}).map(function(l){var c="_value"in l?l._value:l.value;return c});t.selectedPage=a.target.multiple?n:n[0]},t.dropdownPageChange]}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select Page")]),t._l(t.lastPage,function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])})],2)])])])],1)},v=[function(){var s=this,t=s._self._c;return t("thead",[t("tr",[t("th",{staticClass:"group from-column sortable-column"},[t("span",[s._v("Name")])]),t("th",{staticClass:"group to-column pr-8"},[t("span",[s._v("Email")])]),t("th",{staticClass:"group to-column pr-8"},[t("span",[s._v("Content")])]),t("th",{staticClass:"group from-column sortable-column"},[t("span",[s._v("Form")])]),t("th",{staticClass:"group from-column sortable-column"},[t("span",[s._v("Submission")])]),t("th",{staticClass:"actions-column"})])])}],P=g(f,h,v,!1,null,null,null,null);const w=P.exports;Statamic.booting(()=>{Statamic.$components.register("alt-akismet",w)});
